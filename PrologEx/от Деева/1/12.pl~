живет('Зебра',земля).
живет('Собака',земля).
живет('Карп',вода).
живет('Кит',вода).
живет('Кошка',X):-живет('Собака',X).
живет('Крокодил',вода).
живет('Крокодил',земля).
живет('Лягушка',вода).
живет('Лягушка',земля).
живет('Утка',вода).
живет('Утка',земля).
живет('Утка',воздух).
живет('Орел',воздух).
живет('Орел',земля).
живет('Буревестник',вода).
живет('Буревестник',воздух).

живет_в_двух_средах(X):-животное(X),[живет(X,Y),живет(X,Z),Y\=Z].
животное(X):-живет(X,_).



%Кто где живет?
%живет(X,Y).

%Кто живет на земле, но не является собакой?
%живет(X,земля), X\='Собака'.

%Кто живет и на земле, и в воде?
%живет(X,земля),живет(X,вода).

средаобит1(X):-живет(X,_),not(живет(X,Y)). % ровно в 1
средаобит2(X):-живет(X,Y),живет(X,Z),not(Y=Z).  % хотя бы в 2х
средаобит3(X):-живет(X,Y),живет(X,Z),живет(X,D),Y@<Z,Z@<D. %хотя бы 3 ср обитания
средаобит4(X):-живет(X,Y),живет(X,Z),живет(X,D),живет(X,F),Y@<Z,Z@<D,D@<F.%живут в 4х

средаобитровно2(X):-средаобит2(X),not(средаобит3(X)). % ровно в 2x
ввннвродной(X):-живет(X,_),not(средаобит1(X)),живет(X,вода).% не живут ровно в 2х средах и не живут в воде
средаобитровно3(X):-средаобит3(X),not(средаобит4(X)).% живут ровно в 3х средах

f(X):-живет(X,вода),средаобит2(X),средаобит3(X).


